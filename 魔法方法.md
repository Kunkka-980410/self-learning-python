## 魔法方法（Magic Methods）

也叫特殊方法（Special Methods）。它们是以双下划线 `__xxx__` 命名的一类方法，Python 会在特定场景下自动调用它们。

🧙 什么是魔法方法？
魔法方法是 Python 类中的特殊钩子，用于定义对象的行为，比如：

如何打印对象

如何比较对象

如何执行加法、减法等运算

如何支持迭代、切片、上下文管理等

它们不是你手动调用的，而是 Python 在特定语法触发时自动调用。  

🔥 常见魔法方法一览
|方法名	|触发时机|	作用说明
|---|---|---
|`__init__`|	创建对象时	|构造函数，初始化属性
|`__str__`|	`print(obj)` 或 `str(obj)`|	返回对象的字符串表示
|`__repr__`|	`repr(obj)` 或交互式解释器	|返回对象的开发者表示
|`__add__`|	`obj1 + obj2`|	定义加法行为
|`__len__`|	`len(obj)`|	定义长度
|`__getitem__`|	`obj[key]`|	支持索引访问
|`__setitem__`|	`obj[key] = value`|	支持索引赋值
|`__iter__`|	用于 `for` 循环|	返回迭代器
|`__next__`|	用于迭代器的下一项	|返回下一个元素
|`__eq__`|	`obj1 == obj2`|	定义相等比较
|`__enter__` /` __exit__`|	用于 `with` 语句	|上下文管理器  


🧪 示例：自定义加法和打印
```python
class Vector:
    def __init__(self, x, y):
        self.x = x
        self.y = y

    def __add__(self, other):
        return Vector(self.x + other.x, self.y + other.y)

    def __str__(self):
        return f"Vector({self.x}, {self.y})"
```
使用：

```python
v1 = Vector(1, 2)
v2 = Vector(3, 4)
v3 = v1 + v2
print(v3)  # 输出：Vector(4, 6)
```
这里 `+` 自动触发 `__add__`，`print()` 自动触发 `__str__`。

✅ 总结一句话：
魔法方法是 Python 的底层语法钩子，让你可以定制对象的行为，写出更自然、更强大的类。
